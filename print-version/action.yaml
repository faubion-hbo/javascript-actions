---
name: print-node-version

description: "Print the version of NodeJS that's running this action!"

runs:
  using: composite
  steps:
    - name: Print `node` version at start of action
      shell: bash
      run: |
        # "Print `node` version at start of action"
        node --version

###### <repeat> ######
    - name: Link internal action to expected path
      shell: bash
      env:
        INTERNAL_ACTION_PATH: ${{ github.action_path }}/internal
        EXPECTED_ACTION_PATH: .github/actions/_internal/print-version
      run: |
        # "Link internal action to expected path"
        expected_dir="$(dirname $EXPECTED_ACTION_PATH)"
        mkdir -p "$expected_dir"
        ln -fs "$INTERNAL_ACTION_PATH" "$EXPECTED_ACTION_PATH"

    - uses: ./.github/actions/_internal/print-version

###### </repeat> ######
    - name: Print `node` version at end of action
      shell: bash
      run: |
        # "Print `node` version at end of action"
        node --version
