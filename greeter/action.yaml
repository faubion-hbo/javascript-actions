name: greeter

description: prints "Hello World!"

outputs:
  time:
    description: 'The time we greeted you'
    value: ${{ steps.run-action.outputs.time }}

runs:
  using: composite
  steps:
    - name: First, outside action call
      shell: bash
      run: |
        node --version

    - name: Link dynamic dep. Action location to expected
      shell: bash
      env:
        THIS_ACTIONS_PATH: ${{ github.action_path }}/..
        EXPECTED_ACTIONS_PATH: .github/actions/internal/greeter
      run: |
        ln -fs "THIS_ACTIONS_PATH" "$EXPECTED_ACTIONS_PATH"
        ls "$EXPECTED_ACTIONS_PATH"

    - uses: ./.github/actions/internal/greeter
      id: run-action

    - name: Last, outside action call
      shell: bash
      run: |
        node --version
        echo "output: ${{ steps.run-action.outputs.time }}"
